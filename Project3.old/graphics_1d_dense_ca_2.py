from p5 import *
from dense_1d_ca import CaOneDDense
import ca_inputs

def setup():
    size(CaOneDDense._input_len*4,CaOneDDense._iter_size*4)
    no_stroke()



def draw():
    # print(CaOneDDense._init_cond_len)
    for i in range(0,CaOneDDense._input_len):
        if ca.input[i]=='0':
            fill(0)
        else:
            fill(255)
        square((i*4,ca.current_iter*4),4)

    ca.iterate_once()
    if ca.current_iter >= ca._iter_size:
        no_loop()

testrule = {'fitness': 194, 0: '0', 1: '0', 2: '0', 3: '0', 4: '0', 5: '1', 6: '0', 7: '1', 8: '0', 9: '1', 10: '1', 11: '1', 12: '0', 13: '0', 14: '1', 15: '1', 16: '0', 17: '0', 18: '0', 19: '1', 20: '1', 21: '0', 22: '1', 23: '1', 24: '1', 25: '1', 26: '1', 27: '0', 28: '0', 29: '1', 30: '0', 31: '0', 32: '0', 33: '0', 34: '1', 35: '1', 36: '0', 37: '0', 38: '1', 39: '1', 40: '1', 41: '0', 42: '1', 43: '1', 44: '1', 45: '0', 46: '1', 47: '0', 48: '1', 49: '1', 50: '1', 51: '1', 52: '0', 53: '0', 54: '1', 55: '0', 56: '1', 57: '1', 58: '0', 59: '1', 60: '0', 61: '0', 62: '0', 63: '1', 64: '0', 65: '1', 66: '1', 67: '1', 68: '0', 69: '0', 70: '1', 71: '0', 72: '1', 73: '0', 74: '1', 75: '1', 76: '1', 77: '1', 78: '1', 79: '0', 80: '0', 81: '1', 82: '1', 83: '1', 84: '1', 85: '1', 86: '1', 87: '1', 88: '0', 89: '1', 90: '1', 91: '1', 92: '1', 93: '1', 94: '1', 95: '1', 96: '0', 97: '1', 98: '1', 99: '0', 100: '0', 101: '1', 102: '0', 103: '0', 104: '0', 105: '1', 106: '1', 107: '1', 108: '1', 109: '1', 110: '1', 111: '1', 112: '0', 113: '1', 114: '1', 115: '1', 116: '1', 117: '0', 118: '1', 119: '1', 120: '1', 121: '1', 122: '1', 123: '1', 124: '1', 125: '1', 126: '1', 127: '1'}, {'fitness': 194, 0: '0', 1: '0', 2: '0', 3: '0', 4: '0', 5: '1', 6: '0', 7: '1', 8: '0', 9: '1', 10: '1', 11: '1', 12: '0', 13: '0', 14: '1', 15: '1', 16: '0', 17: '1', 18: '0', 19: '1', 20: '1', 21: '0', 22: '1', 23: '1', 24: '0', 25: '0', 26: '1', 27: '0', 28: '0', 29: '1', 30: '0', 31: '0', 32: '0', 33: '0', 34: '1', 35: '1', 36: '0', 37: '0', 38: '1', 39: '1', 40: '1', 41: '0', 42: '1', 43: '1', 44: '1', 45: '0', 46: '1', 47: '0', 48: '1', 49: '1', 50: '1', 51: '1', 52: '0', 53: '0', 54: '0', 55: '0', 56: '1', 57: '1', 58: '0', 59: '1', 60: '0', 61: '0', 62: '0', 63: '1', 64: '0', 65: '1', 66: '1', 67: '1', 68: '0', 69: '0', 70: '1', 71: '0', 72: '1', 73: '0', 74: '1', 75: '1', 76: '1', 77: '1', 78: '1', 79: '0', 80: '0', 81: '1', 82: '1', 83: '1', 84: '1', 85: '1', 86: '1', 87: '1', 88: '0', 89: '1', 90: '1', 91: '1', 92: '1', 93: '1', 94: '0', 95: '1', 96: '0', 97: '1', 98: '1', 99: '0', 100: '1', 101: '1', 102: '0', 103: '0', 104: '0', 105: '1', 106: '1', 107: '1', 108: '1', 109: '1', 110: '1', 111: '1', 112: '0', 113: '1', 114: '1', 115: '1', 116: '1', 117: '0', 118: '1', 119: '1', 120: '1', 121: '1', 122: '1', 123: '1', 124: '1', 125: '1', 126: '1', 127: '1'}


ca = CaOneDDense(rules= testrule, input=ca_inputs.dense_0_50[20])
# ca.iterate_all()
run()
